.data 

SL:	.string "video.bin"
PTBR:	.string "ptbr.bin"
JAP:	.string "jap.bin"
ignore:	.byte 0x00
DESCS:	.space 8	#JAP,PTBR
DUMP:	.space 76800
ULT_DURACAO:	.word 0		# duracao da ultima nota
ULT_NOTA:	.word 0		# quando a ultima nota foi tocada
NUM:	.word 2516	# total de notas
NOTAS:	35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,192,35,0,35,192,35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,192,35,0,35,192,35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,192,35,0,35,192,35,0,35,384,35,0,35,384,35,0,35,384,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,96,35,0,35,384,35,0,35,384,35,0,35,384,35,0,39,384,35,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,42,0,42,96,39,0,39,96,44,0,44,192,42,0,42,96,44,0,44,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,44,0,44,192,42,0,42,96,44,0,44,96,42,0,42,192,39,0,39,96,42,0,42,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,42,0,42,96,39,0,39,96,44,0,44,192,42,0,42,96,44,0,44,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,39,0,39,192,39,0,39,96,39,0,39,96,39,96,39,96,37,0,37,96,39,0,39,96,44,0,44,192,42,0,42,96,44,0,44,96,42,0,42,192,39,0,39,96,42,0,42,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,192,63,0,63,192,63,0,63,192,65,0,65,192,65,0,65,192,66,0,66,192,66,0,66,192,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,68,0,68,384,66,0,82,208,66,176,82,15,85,0,85,192,87,0,87,191,82,0,82,191,80,0,80,192,82,0,82,384,80,0,80,191,82,0,82,191,85,0,85,192,87,0,87,191,82,0,82,191,80,0,80,192,82,0,82,384,80,0,80,191,82,0,82,191,80,0,80,192,78,0,78,192,77,0,77,192,73,0,73,191,75,0,75,384,73,0,73,191,75,0,75,192,77,0,77,191,78,0,78,191,80,0,80,192,82,0,82,191,75,0,75,384,80,0,80,191,82,0,82,192,85,0,85,191,87,0,87,191,82,0,82,192,80,0,80,191,82,0,82,384,80,0,80,191,82,0,82,192,85,0,85,192,87,0,87,192,82,0,82,191,80,0,80,191,82,0,82,384,80,0,80,192,82,0,82,191,80,0,80,191,78,0,78,192,77,0,77,191,73,0,73,192,75,0,75,383,73,0,73,192,75,0,75,191,77,0,77,191,78,0,78,192,80,0,80,191,82,0,82,192,75,0,75,383,80,0,80,192,82,0,82,192,85,0,85,192,87,0,87,191,82,0,82,191,80,0,80,192,82,0,82,384,80,0,80,191,82,0,82,191,85,0,85,192,87,0,87,191,82,0,82,192,80,0,80,191,82,0,82,384,80,0,80,191,82,0,82,191,80,0,80,192,78,0,78,191,77,0,77,192,73,0,73,191,75,0,75,384,73,0,73,192,75,0,75,192,77,0,77,191,78,0,78,191,80,0,80,192,82,0,82,191,75,0,75,384,80,0,80,191,82,0,82,192,85,0,85,191,87,0,87,192,82,0,82,191,80,0,80,191,82,0,82,384,80,0,80,191,82,0,82,192,85,0,85,191,87,0,87,192,82,0,82,191,80,0,80,191,82,0,82,384,87,0,87,192,89,0,89,191,90,0,90,191,89,0,89,192,87,0,87,191,85,0,85,192,82,0,82,383,80,0,80,192,82,0,82,191,80,0,80,192,78,0,78,191,77,0,77,191,73,0,73,192,75,0,75,191,63,560,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,66,0,66,192,63,0,63,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,66,0,66,192,63,0,63,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,192,63,0,63,192,63,0,63,192,65,0,65,192,65,0,65,192,66,0,66,192,66,0,66,192,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,66,0,66,96,63,0,63,96,68,0,68,192,66,0,66,96,68,0,68,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,59,0,59,192,59,0,59,96,59,0,59,96,59,96,59,96,58,0,58,96,59,0,59,96,61,0,61,192,61,0,61,96,61,0,61,96,61,96,61,96,59,0,59,96,61,0,61,96,61,0,61,192,64,0,64,96,61,0,61,96,66,0,66,192,64,0,64,96,66,0,66,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,63,0,63,192,63,0,63,96,63,0,63,96,63,96,63,96,61,0,61,96,63,0,63,96,68,0,68,384,66,0,66,384,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,81,0,81,192,79,0,79,192,78,0,78,192,74,0,74,192,76,0,76,384,74,0,74,192,76,0,76,192,78,0,78,192,79,0,79,192,81,0,81,192,83,0,83,192,76,0,76,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,81,0,81,192,79,0,79,192,78,0,78,192,74,0,74,192,76,0,76,384,74,0,74,192,76,0,76,192,78,0,78,192,79,0,79,192,81,0,81,192,83,0,83,192,76,0,76,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,81,0,81,192,79,0,79,192,78,0,78,192,74,0,74,192,76,0,76,384,74,0,74,192,76,0,76,192,78,0,78,192,79,0,79,192,81,0,81,192,83,0,83,192,76,0,76,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,81,0,81,192,83,0,83,192,86,0,86,192,88,0,88,192,83,0,83,192,81,0,81,192,83,0,83,384,88,0,88,192,90,0,90,192,91,0,91,192,90,0,90,192,88,0,88,192,86,0,86,192,83,0,83,384,81,0,81,192,83,0,83,192,81,0,81,192,79,0,79,192,78,0,78,192,74,0,74,192,76,0,76,192,38,576,50,0,38,192,50,0,40,0,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,40,0,52,0,52,0,40,192,40,0,52,0,52,0,40,96,52,0,40,192,52,0,40,288,52,0

.text
li s0,0xFF000000	#inicio da frame 0
	li s1,0xFF100000	#inicio da frame 1
	li s2,76800			#tamanho da frame
	li s3,0xFF200604	#selecionador de frame
	
	la a0,SL
	li a1,0
	li a7,1024
	ecall				#open
	mv s4,a0			#s4 tem o video sem legenda
	
	la a0,PTBR
	ecall
	mv s5,a0
	la t0,DESCS
	sw a0,4(t0)


	la a0,JAP
	ecall
	mv s6,a0
	la t0,DESCS
	sw a0,0(t0)

	jal a0,SET_M


LOOP:

	csrr t1,3073
	sub t1,t1,s11
	li t2,40		#video de 25 fps -> 1 frame cada 40 ms
	bltu t1,t2,LOOP
	jal PLAY
	mv a0,s4
	mv a1,s0
	mv a2,s2		#tamanho da frame
	li a7,63
	ecall			#read video sem legenda no frame 0
	
	mv a0,s5
	mv a1,s1
	ecall			#read arquivo no s5 no frame 1
	
	la t0,DUMP
	mv a0,s6
	mv a1,t0
	ecall			#read arquivo no s6 no dump
	csrr s11,3073
	bltz a0,END
	
	jal GET_KEY
	
	
	
	j LOOP


END:
	mv a0,s3
	li a7,57
	ecall
	li a7,10
	ecall



KEY_j:
	la t0,DESCS
	lw s5,0(t0)
	lw s6,4(t0)
	li t0,1
	sw t0,0(s3)
	j GET_KEY_END

KEY_p:	
	la t0,DESCS
	lw s5,4(t0)
	lw s6,0(t0)
	li t0,1
	sw t0,0(s3)
	j GET_KEY_END
	
KEY_s:	
	li t0,0
	sw t0,0(s3)
	j GET_KEY_END
	
GET_KEY_END:
	ret


GET_KEY:
	li t0,0xFF200000	#endereco do controle do teclado
	lw t1,0(t0)
	andi t1,t1,0x01
	beqz t1,GET_KEY_END
	lw t1,4(t0)
	
	li t0,0x6A
	beq t1,t0,KEY_j
	
	li t0,0x70
	beq t1,t0,KEY_p
	
	li t0,0x73
	beq t1,t0,KEY_s
	
	j GET_KEY_END



PLAY:	
	la t4,ULT_NOTA
	lw t4,0(t4)		
	beq t4,zero,P_CONT

	li a7,30		
	ecall			
	la t3,ULT_DURACAO	
	lw t3,0(t3)	
	sub t4,a0,t4		
	bge t4,t3,P_CONT	
	ret			

P_CONT:	
	bne s7,s8,P_NOTA	
	jal a0,SET_M		
	ret			

P_NOTA:
	lw a0,0(s9)		
	lw a1,4(s9)		
	li a7,31		
	ecall			
	
	la t3,ULT_DURACAO	
	sw a1,0(t3)		

	li a7,30		
	ecall			
	la t3,ULT_NOTA	
	sw a0,0(t3)		

	addi s9,s9,8		
	addi s7,s7,1		
	ret			
	

SET_M: li s7,0			
	la t3,NUM		
	lw s8,0(t3)		
	la s9,NOTAS	

	li a2,80		
	li a3,127	
	jr a0			
